  Determining projects to restore...
  All projects are up-to-date for restore.
  SharpCoreDB -> D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\bin\Debug\net10.0\SharpCoreDB.dll
  SharpCoreDB.EntityFrameworkCore -> D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.EntityFrameworkCore\bin\Debug\net10.0\SharpCoreDB.EntityFrameworkCore.dll
  SharpCoreDB.Tests -> D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\bin\Debug\net10.0\SharpCoreDB.Tests.dll
Test run for D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\bin\Debug\net10.0\SharpCoreDB.Tests.dll (.NETCoreApp,Version=v10.0)
VSTest version 18.0.1 (x64)

Starting test execution, please wait...
A total of 1 test files matched the specified pattern.
[xUnit.net 00:00:00.45]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_EagerBuildOption_LoadsImmediately [SKIP]
[xUnit.net 00:00:00.46]     SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanUseLINQSumAggregation [SKIP]
[xUnit.net 00:00:00.48]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_RegisteredButNotLoaded_UntilFirstQuery [SKIP]
[xUnit.net 00:00:00.48]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_StaleIndexRebuiltOnFirstUse [SKIP]
[xUnit.net 00:00:00.48]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_GetStatistics_ShowsCorrectState [SKIP]
[xUnit.net 00:00:00.48]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_SecondQueryUsesCache [SKIP]
[xUnit.net 00:00:00.48]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_LoadedOnFirstQuery [SKIP]
[xUnit.net 00:00:00.48]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_Delete_OnlyUpdatesLoadedIndexes [SKIP]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_EagerBuildOption_LoadsImmediately [1 ms]
  Skipped SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanUseLINQSumAggregation [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_RegisteredButNotLoaded_UntilFirstQuery [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_StaleIndexRebuiltOnFirstUse [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_GetStatistics_ShowsCorrectState [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_SecondQueryUsesCache [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_LoadedOnFirstQuery [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_Delete_OnlyUpdatesLoadedIndexes [1 ms]
[xUnit.net 00:00:00.49]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_ThreadSafe_ConcurrentQueries [SKIP]
[xUnit.net 00:00:00.49]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_InsertMarksUnloadedIndexesStale [SKIP]
[xUnit.net 00:00:00.49]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_MemorySavings_UnusedIndexesNotLoaded [SKIP]
[xUnit.net 00:00:00.49]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_MultipleIndexes_OnlyUsedOnesLoaded [SKIP]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_ThreadSafe_ConcurrentQueries [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_InsertMarksUnloadedIndexesStale [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_MemorySavings_UnusedIndexesNotLoaded [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_MultipleIndexes_OnlyUsedOnesLoaded [1 ms]
[xUnit.net 00:00:00.56]     SharpCoreDB.Tests.GenericIndexPerformanceTests.IndexManager_AutoIndexing_AnalysisPerformance [FAIL]
  Failed SharpCoreDB.Tests.GenericIndexPerformanceTests.IndexManager_AutoIndexing_AnalysisPerformance [93 ms]
  Error Message:
   Analysis took 66ms, target < 50ms
  Stack Trace:
     at SharpCoreDB.Tests.GenericIndexPerformanceTests.IndexManager_AutoIndexing_AnalysisPerformance() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\GenericIndexPerformanceTests.cs:line 190
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[xUnit.net 00:00:01.04]     SharpCoreDB.Tests.MvccAsyncBenchmark.MvccAsync_ConcurrentReadsAndWrites_NoDeadlocks [FAIL]
  Failed SharpCoreDB.Tests.MvccAsyncBenchmark.MvccAsync_ConcurrentReadsAndWrites_NoDeadlocks [263 ms]
  Error Message:
   Expected < 100ms for mixed workload, got 149ms
  Stack Trace:
     at SharpCoreDB.Tests.MvccAsyncBenchmark.MvccAsync_ConcurrentReadsAndWrites_NoDeadlocks() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\MvccAsyncBenchmark.cs:line 176
--- End of stack trace from previous location ---
[xUnit.net 00:00:01.34]     SharpCoreDB.Tests.DdlTests.AlterTableRename_PreservesData [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.AlterTableRename_PreservesData [705 ms]
  Error Message:
   Assert.Equal() Failure: Values differ
Expected: 2
Actual:   6
  Stack Trace:
     at SharpCoreDB.Tests.DdlTests.AlterTableRename_PreservesData() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 233
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
  Failed SharpCoreDB.Tests.MvccAsyncBenchmark.MvccAsync_1000ParallelSelects_Under10ms [261 ms]
  Error Message:
   Expected < 10ms, got 16,68ms
  Stack Trace:
     at SharpCoreDB.Tests.MvccAsyncBenchmark.MvccAsync_1000ParallelSelects_Under10ms() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\MvccAsyncBenchmark.cs:line 66
--- End of stack trace from previous location ---
[xUnit.net 00:00:01.44]     SharpCoreDB.Tests.MvccAsyncBenchmark.MvccAsync_1000ParallelSelects_Under10ms [FAIL]
[xUnit.net 00:00:01.48]     SharpCoreDB.Tests.GenericLoadTests.ColumnStore_WithMetrics_SIMD_Aggregates_100k [FAIL]
  Failed SharpCoreDB.Tests.GenericLoadTests.ColumnStore_WithMetrics_SIMD_Aggregates_100k [95 ms]
  Error Message:
   System.OverflowException : Arithmetic operation resulted in an overflow.
  Stack Trace:
     at System.Int32.System.Numerics.IAdditionOperators<System.Int32,System.Int32,System.Int32>.op_CheckedAddition(Int32 left, Int32 right)
   at System.Linq.Enumerable.Sum[T,TResult](ReadOnlySpan`1 span)
   at System.Linq.Enumerable.Sum[TSource,TResult](IEnumerable`1 source)
   at SharpCoreDB.ColumnStorage.ColumnStore`1.SumInt32ParallelSIMD(Int32[] data) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Storage\ColumnStore.Aggregates.cs:line 214
   at SharpCoreDB.ColumnStorage.ColumnStore`1.SumInt32Adaptive(Int32ColumnBuffer buffer) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Storage\ColumnStore.Aggregates.cs:line 132
   at SharpCoreDB.ColumnStorage.ColumnStore`1.Sum[TResult](String columnName) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Storage\ColumnStore.Aggregates.cs:line 35
   at SharpCoreDB.Tests.GenericLoadTests.ColumnStore_WithMetrics_SIMD_Aggregates_100k() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\GenericLoadTests.cs:line 435
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[xUnit.net 00:00:01.61]     SharpCoreDB.Tests.GenericLoadTests.LINQ_WithEnumFilters_Load5k [SKIP]
  Skipped SharpCoreDB.Tests.GenericLoadTests.LINQ_WithEnumFilters_Load5k [1 ms]
[xUnit.net 00:00:01.63]     SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_SQLFiddleExample1_ParsesOrRecovers [SKIP]
[xUnit.net 00:00:01.63]     SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_MissingTableNameAfterJoin_RecordsError [SKIP]
[xUnit.net 00:00:01.63]     SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_SQLFiddleExample2_WithFullOuterJoin_Parses [SKIP]
  Skipped SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_SQLFiddleExample1_ParsesOrRecovers [1 ms]
  Skipped SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_MissingTableNameAfterJoin_RecordsError [1 ms]
  Skipped SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_SQLFiddleExample2_WithFullOuterJoin_Parses [1 ms]
[xUnit.net 00:00:01.63]     SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_MalformedSQLFiddleQuery_RecordsErrorsButContinues [SKIP]
  Skipped SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_MalformedSQLFiddleQuery_RecordsErrorsButContinues [1 ms]
[xUnit.net 00:00:01.63]     SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_ComplexMalformedQuery_ContinuesParsing [SKIP]
  Skipped SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_ComplexMalformedQuery_ContinuesParsing [1 ms]
[xUnit.net 00:00:02.77]     SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanQueryTimeEntries [SKIP]
[xUnit.net 00:00:02.77]     SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanUseLINQGroupBy [SKIP]
  Skipped SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanQueryTimeEntries [1 ms]
  Skipped SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanUseLINQGroupBy [1 ms]
[xUnit.net 00:00:02.97]     SharpCoreDB.Tests.NoEncryptionTests.NoEncryption_HighPerformanceConfig_UsesNoEncryption [FAIL]
  Failed SharpCoreDB.Tests.NoEncryptionTests.NoEncryption_HighPerformanceConfig_UsesNoEncryption [656 ms]
  Error Message:
   System.IO.IOException : The process cannot access the file 'wal-4b5dfb3536ac49b69932ccd24ba68a84.log' because it is being used by another process.
  Stack Trace:
     at System.IO.FileSystem.RemoveDirectoryRecursive(String fullPath, WIN32_FIND_DATA& findData, Boolean topLevel)
   at System.IO.FileSystem.RemoveDirectory(String fullPath, Boolean recursive)
   at SharpCoreDB.Tests.NoEncryptionTests.Dispose() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\NoEncryptionTests.cs:line 35
   at ReflectionAbstractionExtensions.DisposeTestClass(ITest test, Object testClass, IMessageBus messageBus, ExecutionTimer timer, CancellationTokenSource cancellationTokenSource) in /_/src/xunit.execution/Extensions/ReflectionAbstractionExtensions.cs:line 79
[xUnit.net 00:00:03.78]     SharpCoreDB.Tests.DdlTests.AlterTableRename_RenamesDataFile [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.AlterTableRename_RenamesDataFile [669 ms]
  Error Message:
   Old data file should exist
  Stack Trace:
     at SharpCoreDB.Tests.DdlTests.AlterTableRename_RenamesDataFile() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 210
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[xUnit.net 00:00:04.48]     SharpCoreDB.Tests.DdlTests.DropTable_DeletesDataFile [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.DropTable_DeletesDataFile [700 ms]
  Error Message:
   Data file should exist before DROP
  Stack Trace:
     at SharpCoreDB.Tests.DdlTests.DropTable_DeletesDataFile() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 81
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
[xUnit.net 00:00:05.22]     SharpCoreDB.Tests.DdlTests.DropIndex_RemovesIndex_Success [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.DropIndex_RemovesIndex_Success [739 ms]
  Error Message:
   System.InvalidOperationException : Table users(email) does not exist
  Stack Trace:
     at SharpCoreDB.Services.SqlParser.ExecuteCreateIndex(String sql, String[] parts, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DDL.cs:line 116
   at SharpCoreDB.Services.SqlParser.ExecuteInternal(String sql, String[] parts, IWAL wal, Boolean noEncrypt) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DML.cs:line 31
   at SharpCoreDB.Services.SqlParser.Execute(String sql, Dictionary`2 parameters, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 113
   at SharpCoreDB.Services.SqlParser.Execute(String sql, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 66
   at SharpCoreDB.Database.ExecuteSQL(String sql) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Database.cs:line 209
   at SharpCoreDB.Tests.DdlTests.DropIndex_RemovesIndex_Success() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 130
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
[xUnit.net 00:00:05.32]     SharpCoreDB.Tests.DatabaseTests.Database_Encryption_NoEncryptionMode_Faster [FAIL]
  Failed SharpCoreDB.Tests.DatabaseTests.Database_Encryption_NoEncryptionMode_Faster [3 s]
  Error Message:
   No encryption should be comparable or faster. NoEncrypt: 1125ms, Encrypted: 854ms, Ratio: 0,76
  Stack Trace:
     at SharpCoreDB.Tests.DatabaseTests.Database_Encryption_NoEncryptionMode_Faster() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DatabaseTests.cs:line 194
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[xUnit.net 00:00:05.95]     SharpCoreDB.Tests.DdlTests.DDL_DropAndRecreate_Success [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.DDL_DropAndRecreate_Success [733 ms]
  Error Message:
   Assert.Equal() Failure: Values differ
Expected: 42
Actual:   16777216
  Stack Trace:
     at SharpCoreDB.Tests.DdlTests.DDL_DropAndRecreate_Success() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 313
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
[xUnit.net 00:00:06.78]     SharpCoreDB.Tests.DdlTests.DropIndex_IfExists_ExistingIndex_RemovesIndex [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.DropIndex_IfExists_ExistingIndex_RemovesIndex [830 ms]
  Error Message:
   System.InvalidOperationException : Table users(email) does not exist
  Stack Trace:
     at SharpCoreDB.Services.SqlParser.ExecuteCreateIndex(String sql, String[] parts, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DDL.cs:line 116
   at SharpCoreDB.Services.SqlParser.ExecuteInternal(String sql, String[] parts, IWAL wal, Boolean noEncrypt) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DML.cs:line 31
   at SharpCoreDB.Services.SqlParser.Execute(String sql, Dictionary`2 parameters, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 113
   at SharpCoreDB.Services.SqlParser.Execute(String sql, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 66
   at SharpCoreDB.Database.ExecuteSQL(String sql) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Database.cs:line 209
   at SharpCoreDB.Tests.DdlTests.DropIndex_IfExists_ExistingIndex_RemovesIndex() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 168
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
[xUnit.net 00:00:09.26]     SharpCoreDB.Tests.DdlTests.DDL_ComplexScenario_Success [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.DDL_ComplexScenario_Success [889 ms]
  Error Message:
   System.InvalidOperationException : Table users(email) does not exist
  Stack Trace:
     at SharpCoreDB.Services.SqlParser.ExecuteCreateIndex(String sql, String[] parts, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DDL.cs:line 116
   at SharpCoreDB.Services.SqlParser.ExecuteInternal(String sql, String[] parts, IWAL wal, Boolean noEncrypt) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DML.cs:line 31
   at SharpCoreDB.Services.SqlParser.Execute(String sql, Dictionary`2 parameters, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 113
   at SharpCoreDB.Services.SqlParser.Execute(String sql, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 66
   at SharpCoreDB.Database.ExecuteSQL(String sql) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Database.cs:line 209
   at SharpCoreDB.Tests.DdlTests.DDL_ComplexScenario_Success() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 271
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)

Failed!  - Failed:    13, Passed:   313, Skipped:    20, Total:   346, Duration: 36 s - SharpCoreDB.Tests.dll (net10.0)
