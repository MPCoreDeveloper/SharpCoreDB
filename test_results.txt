  Determining projects to restore...
  Restored D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\SharpCoreDB.Tests.csproj (in 280 ms).
  Restored D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.EntityFrameworkCore\SharpCoreDB.EntityFrameworkCore.csproj (in 280 ms).
  Restored D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\SharpCoreDB.csproj (in 280 ms).
  SharpCoreDB -> D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\bin\Debug\net10.0\SharpCoreDB.dll
  SharpCoreDB.EntityFrameworkCore -> D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.EntityFrameworkCore\bin\Debug\net10.0\SharpCoreDB.EntityFrameworkCore.dll
D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\TableLazyIndexTests.cs(104,31): warning CS8604: Possible null reference argument for parameter 'storage' in 'Table.Table(IStorage storage, bool isReadOnly = false)'. [D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\SharpCoreDB.Tests.csproj]
D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\HashIndexTests.cs(146,64): warning CS8600: Converting null literal or possible null value to non-nullable type. [D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\SharpCoreDB.Tests.csproj]
D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\HashIndexTests.cs(146,64): warning CS8625: Cannot convert null literal to non-nullable reference type. [D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\SharpCoreDB.Tests.csproj]
D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\HashIndexTests.cs(155,44): warning CS8625: Cannot convert null literal to non-nullable reference type. [D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\SharpCoreDB.Tests.csproj]
D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\TableLazyIndexTests.cs(15,31): warning CS0649: Field 'TableLazyIndexTests._storage' is never assigned to, and will always have its default value null [D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\SharpCoreDB.Tests.csproj]
D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\GroupCommitWALInstanceTests.cs(231,17): warning xUnit1013: Public method 'Cleanup' on test class 'GroupCommitWALInstanceTests' should be marked as a Fact. Reduce the visibility of the method, or add a Fact attribute to the method. (https://xunit.net/xunit.analyzers/rules/xUnit1013) [D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\SharpCoreDB.Tests.csproj]
D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\GenericLoadTests.cs(352,14): warning xUnit1031: Test methods should not use blocking task operations, as they can cause deadlocks. Use an async test method and await instead. (https://xunit.net/xunit.analyzers/rules/xUnit1031) [D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\SharpCoreDB.Tests.csproj]
D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\IndexTests.cs(81,14): warning xUnit1031: Test methods should not use blocking task operations, as they can cause deadlocks. Use an async test method and await instead. (https://xunit.net/xunit.analyzers/rules/xUnit1031) [D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\SharpCoreDB.Tests.csproj]
  SharpCoreDB.Tests -> D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\bin\Debug\net10.0\SharpCoreDB.Tests.dll
Test run for D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\bin\Debug\net10.0\SharpCoreDB.Tests.dll (.NETCoreApp,Version=v10.0)
VSTest version 18.0.1 (x64)

Starting test execution, please wait...
A total of 1 test files matched the specified pattern.
[xUnit.net 00:00:00.33]     SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_SQLFiddleExample1_ParsesOrRecovers [SKIP]
  Skipped SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_SQLFiddleExample1_ParsesOrRecovers [1 ms]
[xUnit.net 00:00:00.33]     SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_MissingTableNameAfterJoin_RecordsError [SKIP]
[xUnit.net 00:00:00.33]     SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_SQLFiddleExample2_WithFullOuterJoin_Parses [SKIP]
  Skipped SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_MissingTableNameAfterJoin_RecordsError [1 ms]
  Skipped SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_SQLFiddleExample2_WithFullOuterJoin_Parses [1 ms]
[xUnit.net 00:00:00.34]     SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_MalformedSQLFiddleQuery_RecordsErrorsButContinues [SKIP]
  Skipped SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_MalformedSQLFiddleQuery_RecordsErrorsButContinues [1 ms]
[xUnit.net 00:00:00.34]     SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_ComplexMalformedQuery_ContinuesParsing [SKIP]
  Skipped SharpCoreDB.Tests.SqlParserErrorRecoveryTests.Parser_ComplexMalformedQuery_ContinuesParsing [1 ms]
[xUnit.net 00:00:00.56]     SharpCoreDB.Tests.GenericLoadTests.ColumnStore_WithMetrics_SIMD_Aggregates_100k [FAIL]
[xUnit.net 00:00:00.62]     SharpCoreDB.Tests.GenericLoadTests.LINQ_WithEnumFilters_Load5k [SKIP]
  Failed SharpCoreDB.Tests.GenericLoadTests.ColumnStore_WithMetrics_SIMD_Aggregates_100k [155 ms]
  Error Message:
   System.OverflowException : Arithmetic operation resulted in an overflow.
  Stack Trace:
     at System.Int32.System.Numerics.IAdditionOperators<System.Int32,System.Int32,System.Int32>.op_CheckedAddition(Int32 left, Int32 right)
   at System.Linq.Enumerable.Sum[T,TResult](ReadOnlySpan`1 span)
   at System.Linq.Enumerable.Sum[TSource,TResult](IEnumerable`1 source)
   at SharpCoreDB.ColumnStorage.ColumnStore`1.SumInt32ParallelSIMD(Int32[] data) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Storage\ColumnStore.Aggregates.cs:line 214
   at SharpCoreDB.ColumnStorage.ColumnStore`1.SumInt32Adaptive(Int32ColumnBuffer buffer) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Storage\ColumnStore.Aggregates.cs:line 132
   at SharpCoreDB.ColumnStorage.ColumnStore`1.Sum[TResult](String columnName) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Storage\ColumnStore.Aggregates.cs:line 35
   at SharpCoreDB.Tests.GenericLoadTests.ColumnStore_WithMetrics_SIMD_Aggregates_100k() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\GenericLoadTests.cs:line 435
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
  Skipped SharpCoreDB.Tests.GenericLoadTests.LINQ_WithEnumFilters_Load5k [1 ms]
[xUnit.net 00:00:01.33]     SharpCoreDB.Tests.MvccAsyncBenchmark.MvccAsync_1000ParallelSelects_Under10ms [FAIL]
[xUnit.net 00:00:01.34]     SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanUseLINQSumAggregation [SKIP]
  Failed SharpCoreDB.Tests.MvccAsyncBenchmark.MvccAsync_1000ParallelSelects_Under10ms [816 ms]
  Error Message:
   Expected < 10ms, got 610,96ms
  Stack Trace:
     at SharpCoreDB.Tests.MvccAsyncBenchmark.MvccAsync_1000ParallelSelects_Under10ms() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\MvccAsyncBenchmark.cs:line 66
--- End of stack trace from previous location ---
  Skipped SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanUseLINQSumAggregation [1 ms]
[xUnit.net 00:00:02.29]     SharpCoreDB.Tests.DdlTests.AlterTableRename_PreservesData [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.AlterTableRename_PreservesData [542 ms]
  Error Message:
   Assert.Equal() Failure: Values differ
Expected: 2
Actual:   6
  Stack Trace:
     at SharpCoreDB.Tests.DdlTests.AlterTableRename_PreservesData() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 233
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[xUnit.net 00:00:03.32]     SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanQueryTimeEntries [SKIP]
[xUnit.net 00:00:03.32]     SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanUseLINQGroupBy [SKIP]
  Skipped SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanQueryTimeEntries [1 ms]
  Skipped SharpCoreDB.Tests.EFCoreTimeTrackingTests.CanUseLINQGroupBy [1 ms]
[xUnit.net 00:00:04.39]     SharpCoreDB.Tests.DdlTests.AlterTableRename_RenamesDataFile [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.AlterTableRename_RenamesDataFile [543 ms]
  Error Message:
   Old data file should exist
  Stack Trace:
     at SharpCoreDB.Tests.DdlTests.AlterTableRename_RenamesDataFile() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 210
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[xUnit.net 00:00:04.91]     SharpCoreDB.Tests.DdlTests.DropTable_DeletesDataFile [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.DropTable_DeletesDataFile [517 ms]
  Error Message:
   Data file should exist before DROP
  Stack Trace:
     at SharpCoreDB.Tests.DdlTests.DropTable_DeletesDataFile() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 81
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[xUnit.net 00:00:05.51]     SharpCoreDB.Tests.DdlTests.DropIndex_RemovesIndex_Success [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.DropIndex_RemovesIndex_Success [598 ms]
  Error Message:
   System.InvalidOperationException : Table users(email) does not exist
  Stack Trace:
     at SharpCoreDB.Services.SqlParser.ExecuteCreateIndex(String sql, String[] parts, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DDL.cs:line 116
   at SharpCoreDB.Services.SqlParser.ExecuteInternal(String sql, String[] parts, IWAL wal, Boolean noEncrypt) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DML.cs:line 31
   at SharpCoreDB.Services.SqlParser.Execute(String sql, Dictionary`2 parameters, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 113
   at SharpCoreDB.Services.SqlParser.Execute(String sql, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 66
   at SharpCoreDB.Database.ExecuteSQL(String sql) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Database.cs:line 209
   at SharpCoreDB.Tests.DdlTests.DropIndex_RemovesIndex_Success() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 130
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[xUnit.net 00:00:06.09]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_EagerBuildOption_LoadsImmediately [SKIP]
[xUnit.net 00:00:06.09]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_RegisteredButNotLoaded_UntilFirstQuery [SKIP]
[xUnit.net 00:00:06.09]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_StaleIndexRebuiltOnFirstUse [SKIP]
[xUnit.net 00:00:06.09]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_GetStatistics_ShowsCorrectState [SKIP]
[xUnit.net 00:00:06.13]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_SecondQueryUsesCache [SKIP]
[xUnit.net 00:00:06.13]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_LoadedOnFirstQuery [SKIP]
[xUnit.net 00:00:06.13]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_Delete_OnlyUpdatesLoadedIndexes [SKIP]
[xUnit.net 00:00:06.13]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_ThreadSafe_ConcurrentQueries [SKIP]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_EagerBuildOption_LoadsImmediately [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_RegisteredButNotLoaded_UntilFirstQuery [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_StaleIndexRebuiltOnFirstUse [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_GetStatistics_ShowsCorrectState [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_SecondQueryUsesCache [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_LoadedOnFirstQuery [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_Delete_OnlyUpdatesLoadedIndexes [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_ThreadSafe_ConcurrentQueries [1 ms]
[xUnit.net 00:00:06.14]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_InsertMarksUnloadedIndexesStale [SKIP]
[xUnit.net 00:00:06.14]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_MemorySavings_UnusedIndexesNotLoaded [SKIP]
[xUnit.net 00:00:06.15]     SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_MultipleIndexes_OnlyUsedOnesLoaded [SKIP]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_InsertMarksUnloadedIndexesStale [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_MemorySavings_UnusedIndexesNotLoaded [1 ms]
  Skipped SharpCoreDB.Tests.TableLazyIndexTests.LazyIndex_MultipleIndexes_OnlyUsedOnesLoaded [1 ms]
[xUnit.net 00:00:06.50]     SharpCoreDB.Tests.DdlTests.DDL_DropAndRecreate_Success [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.DDL_DropAndRecreate_Success [978 ms]
  Error Message:
   Assert.Equal() Failure: Values differ
Expected: 42
Actual:   16777216
  Stack Trace:
     at SharpCoreDB.Tests.DdlTests.DDL_DropAndRecreate_Success() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 316
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.MethodBaseInvoker.InvokeWithNoArgs(Object obj, BindingFlags invokeAttr)
[xUnit.net 00:00:07.05]     SharpCoreDB.Tests.DdlTests.DropIndex_IfExists_ExistingIndex_RemovesIndex [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.DropIndex_IfExists_ExistingIndex_RemovesIndex [558 ms]
  Error Message:
   System.InvalidOperationException : Table users(email) does not exist
  Stack Trace:
     at SharpCoreDB.Services.SqlParser.ExecuteCreateIndex(String sql, String[] parts, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DDL.cs:line 116
   at SharpCoreDB.Services.SqlParser.ExecuteInternal(String sql, String[] parts, IWAL wal, Boolean noEncrypt) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DML.cs:line 31
   at SharpCoreDB.Services.SqlParser.Execute(String sql, Dictionary`2 parameters, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 113
   at SharpCoreDB.Services.SqlParser.Execute(String sql, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 66
   at SharpCoreDB.Database.ExecuteSQL(String sql) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Database.cs:line 209
   at SharpCoreDB.Tests.DdlTests.DropIndex_IfExists_ExistingIndex_RemovesIndex() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 168
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)
[xUnit.net 00:00:09.04]     SharpCoreDB.Tests.DdlTests.DDL_ComplexScenario_Success [FAIL]
  Failed SharpCoreDB.Tests.DdlTests.DDL_ComplexScenario_Success [621 ms]
  Error Message:
   System.InvalidOperationException : Table users(email) does not exist
  Stack Trace:
     at SharpCoreDB.Services.SqlParser.ExecuteCreateIndex(String sql, String[] parts, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DDL.cs:line 116
   at SharpCoreDB.Services.SqlParser.ExecuteInternal(String sql, String[] parts, IWAL wal, Boolean noEncrypt) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.DML.cs:line 31
   at SharpCoreDB.Services.SqlParser.Execute(String sql, Dictionary`2 parameters, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 113
   at SharpCoreDB.Services.SqlParser.Execute(String sql, IWAL wal) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Services\SqlParser.Core.cs:line 66
   at SharpCoreDB.Database.ExecuteSQL(String sql) in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB\Database.cs:line 209
   at SharpCoreDB.Tests.DdlTests.DDL_ComplexScenario_Success() in D:\source\repos\MPCoreDeveloper\SharpCoreDB\SharpCoreDB.Tests\DdlTests.cs:line 271
   at System.Reflection.MethodBaseInvoker.InterpretedInvoke_Method(Object obj, IntPtr* args)
   at System.Reflection.RuntimeMethodInfo.Invoke(Object obj, BindingFlags invokeAttr, Binder binder, Object[] parameters, CultureInfo culture)

Failed!  - Failed:     9, Passed:   317, Skipped:    20, Total:   346, Duration: 31 s - SharpCoreDB.Tests.dll (net10.0)
