#!/bin/bash
# Fair Comparison Benchmark Launcher voor Linux/macOS
# Direct starten: druk gewoon op 1 in het menu!

echo "????????????????????????????????????????????????????????????????????????"
echo "?        SharpCoreDB Fair Comparison Benchmark                         ?"
echo "????????????????????????????????????????????????????????????????????????"
echo ""

# Check if in correct directory
if [ ! -f "SharpCoreDB.Benchmarks.csproj" ]; then
    echo "? Error: Must run from SharpCoreDB.Benchmarks directory"
    echo ""
    echo "Run:"
    echo "  cd SharpCoreDB.Benchmarks"
    echo "  ./run-fair-comparison.sh"
    exit 1
fi

# Build in Release mode
echo "?? Building in Release mode..."
dotnet build -c Release --nologo -v quiet

if [ $? -ne 0 ]; then
    echo "? Build failed!"
    exit 1
fi

echo "? Build successful!"
echo ""

# Run benchmark (interactive menu will show, just press 1)
echo "?? Starting benchmark menu..."
echo ""
echo "?? Druk op '1' om de Fair Comparison te starten!"
echo ""

dotnet run -c Release --no-build

echo ""
echo "????????????????????????????????????????????????????????????????????????"
echo "?        Klaar!                                                        ?"
echo "????????????????????????????????????????????????????????????????????????"
